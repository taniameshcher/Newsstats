@using WebApplication1.Model;
@using WebApplication1.Model.Deserialization;
@{
    ViewData["Title"] = "GoogleNewsRu";
 }
<h2>@ViewData["Title"]</h2>
<table class="greenTable">
    <tr>
        <th><p align="center">Published at</p></th>
        <th><p align="center">Source</p></th>
        <th><p align="center">Title</p></th>
        <th><p align="center">Description</p></th>
        <th><p align="center">Num</p></th>
    </tr>
    @{
        string keyWord = "США";
        int sum = 0;
        WordFinder wordFinder = new WordFinder();
        GoogleNews googleNewsRu = (GoogleNews)ViewData["GoogleNewsRu"];
        if (googleNewsRu.articles == null)
        {
            <tr><td><strong style="font-size: 50px;"> Check internet connection!</strong></td></tr>
        }
        else
        {
            foreach (Article article in googleNewsRu.articles)
            {
                int count = wordFinder.Find(keyWord, article.description);
                sum += count;
            <tr>
                @{
                    Uri newsUri = new Uri(article.url);
                    string articleSrc = newsUri.Host;
                 }
                <td style="padding:4px"><p>@article.publishedAt</p></td>
                <td style="padding:4px"><a href="@article.url">@articleSrc</a></td>
                <td style="padding:4px"><p>@article.title</p></td>
                <td style="padding:4px"><p>@article.description</p></td>
                <td style="padding:4px"><p>@count</p></td>
            </tr>   
                            }
                        }
                    }
</table>
<h3>Total number of word "@keyWord": @sum</h3>